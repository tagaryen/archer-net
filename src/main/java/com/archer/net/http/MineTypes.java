package com.archer.net.http;

import java.io.File;

public class MineTypes {
    private static final String[] FILE_TAIL = new String[] {
        ".ai",
        ".js",
        ".edi",
        ".json",
        ".ogg",
        ".woff",
        ".xhtml",
        ".xml",
        ".zip",
        ".gzip",
        ".001",
        ".301",
        ".906",
        ".a11",
        ".awf",
        ".bmp",
        ".c4t",
        ".cal",
        ".cdf",
        ".cel",
        ".cg4",
        ".cit",
        ".bot",
        ".c90",
        ".cat",
        ".cdr",
        ".cer",
        ".cgm",
        ".cmx",
        ".crl",
        ".csi",
        ".cut",
        ".dbm",
        ".cmp",
        ".cot",
        ".crt",
        ".dbf",
        ".dbx",
        ".dcx",
        ".dgn",
        ".dll",
        ".dot",
        ".der",
        ".dib",
        ".doc",
        ".drw",
        ".dwf",
        ".dxb",
        ".edn",
        ".dwg",
        ".dxf",
        ".emf",
        ".epi",
        ".exe",
        ".fdf",
        ".eps",
        ".etd",
        ".fif",
        ".frm",
        ".gbr",
        ".g4",
        ".gl2",
        ".hgl",
        ".hpg",
        ".hqx",
        ".hta",
        ".gp4",
        ".hmr",
        ".hpl",
        ".hrf",
        ".icb",
        ".ig4",
        ".iii",
        ".ins",
        ".iff",
        ".igs",
        ".img",
        ".isp",
        ".lar",
        ".latex",
        ".lbm",
        ".ls",
        ".ltr",
        ".man",
        ".mdb",
        ".mac",
        ".mfp",
        ".mi",
        ".mil",
        ".mocha",
        ".mpd",
        ".mpp",
        ".mpt",
        ".mpw",
        ".mpx",
        ".mxp",
        ".nrf",
        ".out",
        ".p12",
        ".p7c",
        ".p7r",
        ".pc5",
        ".pcl",
        ".pdx",
        ".pgl",
        ".pko",
        ".p10",
        ".p7b",
        ".p7m",
        ".p7s",
        ".pci",
        ".pcx",
        ".pdf",
        ".pfx",
        ".pic",
        ".pl",
        ".plt",
        ".ppa",
        ".pps",
        ".prf",
        ".prt",
        ".pwz",
        ".ras",
        ".pot",
        ".ppm",
        ".ppt",
        ".pr",
        ".prn",
        ".ps",
        ".ptn",
        ".red",
        ".rjs",
        ".rlc",
        ".rm",
        ".rat",
        ".rec",
        ".rgb",
        ".rjt",
        ".rle",
        ".rmf",
        ".rmj",
        ".rmp",
        ".rmvb",
        ".rnx",
        ".rms",
        ".rmx",
        ".rsml",
        ".rtf",
        ".sat",
        ".sdw",
        ".slb",
        ".sam",
        ".sdp",
        ".sit",
        ".sld",
        ".smi",
        ".smk",
        ".smil",
        ".spc",
        ".spl",
        ".ssm",
        ".stl",
        ".sst",
        ".tdf",
        ".tga",
        ".sty",
        ".swf",
        ".tg4",
        ".vdx",
        ".vpg",
        ".vst",
        ".vsw",
        ".vtx",
        ".torrent",
        ".vda",
        ".vsd",
        ".vss",
        ".vsx",
        ".wb1",
        ".wb3",
        ".wiz",
        ".wk4",
        ".wks",
        ".wb2",
        ".wk3",
        ".wkq",
        ".wmf",
        ".wmd",
        ".wp6",
        ".wpg",
        ".wq1",
        ".wri",
        ".ws",
        ".wmz",
        ".wpd",
        ".wpl",
        ".wr1",
        ".wrk",
        ".ws2",
        ".xdp",
        ".xfd",
        ".xfdf",
        ".xls",
        ".xwd",
        ".sis",
        ".x_t",
        ".apk",
        ".x_b",
        ".sisx",
        ".ipa",
        ".xap",
        ".xlw",
        ".anv",
        ".uin",
        ".323",
        ".biz",
        ".cml",
        ".asa",
        ".asp",
        ".css",
        ".csv",
        ".dcd",
        ".dtd",
        ".ent",
        ".fo",
        ".htc",
        ".html",
        ".htx",
        ".htm",
        ".htt",
        ".jsp",
        ".math",
        ".md",
        ".mml",
        ".mtx",
        ".plg",
        ".rdf",
        ".rt",
        ".sol",
        ".spp",
        ".stm",
        ".tld",
        ".txt",
        ".uls",
        ".vml",
        ".tsd",
        ".vcf",
        ".vxml",
        ".wml",
        ".wsdl",
        ".wsc",
        ".xdr",
        ".xql",
        ".xsd",
        ".xslt",
        ".xq",
        ".xquery",
        ".xsl",
        ".odc",
        ".r3t",
        ".sor",
        ".tif",
        ".fax",
        ".gif",
        ".ico",
        ".jfif",
        ".jpe",
        ".jpeg",
        ".jpg",
        ".net",
        ".png",
        ".rp",
        ".svg",
        ".tiff",
        ".wbmp",
    };
    private static final String[] MINE_TYPE = new String[] {
        "application/postscript",
        "application/ecmascript",
        "application/EDI-X12",
        "application/json",
        "application/ogg",
        "application/font-woff",
        "application/xhtml+xml",
        "application/xml",
        "application/zip",
        "application/gzip",
        "application/x-001",
        "application/x-301",
        "application/x-906",
        "application/x-a11",
        "application/vnd.adobe.workflow",
        "application/x-bmp",
        "application/x-c4t",
        "application/x-cals",
        "application/x-netcdf",
        "application/x-cel",
        "application/x-g4",
        "application/x-cit",
        "application/x-bot",
        "application/x-c90",
        "application/vnd.ms-pki.seccat",
        "application/x-cdr",
        "application/x-x509-ca-cert",
        "application/x-cgm",
        "application/x-cmx",
        "application/pkix-crl",
        "application/x-csi",
        "application/x-cut",
        "application/x-dbm",
        "application/x-cmp",
        "application/x-cot",
        "application/x-x509-ca-cert",
        "application/x-dbf",
        "application/x-dbx",
        "application/x-dcx",
        "application/x-dgn",
        "application/x-msdownload",
        "application/msword",
        "application/x-x509-ca-cert",
        "application/x-dib",
        "application/msword",
        "application/x-drw",
        "application/x-dwf",
        "application/x-dxb",
        "application/vnd.adobe.edn",
        "application/x-dwg",
        "application/x-dxf",
        "application/x-emf",
        "application/x-epi",
        "application/x-msdownload",
        "application/vnd.fdf",
        "application/x-ps",
        "application/x-ebx",
        "application/fractals",
        "application/x-frm",
        "application/x-gbr",
        "application/x-g4",
        "application/x-gl2",
        "application/x-hgl",
        "application/x-hpgl",
        "application/mac-binhex40",
        "application/hta",
        "application/x-gp4",
        "application/x-hmr",
        "application/x-hpl",
        "application/x-hrf",
        "application/x-icb",
        "application/x-g4",
        "application/x-iphone",
        "application/x-internet-signup",
        "application/x-iff",
        "application/x-igs",
        "application/x-img",
        "application/x-internet-signup",
        "application/x-laplayer-reg",
        "application/x-latex",
        "application/x-lbm",
        "application/x-javascript",
        "application/x-ltr",
        "application/x-troff-man",
        "application/msaccess",
        "application/x-mac",
        "application/x-shockwave-flash",
        "application/x-mi",
        "application/x-mil",
        "application/x-javascript",
        "application/vnd.ms-project",
        "application/vnd.ms-project",
        "application/vnd.ms-project",
        "application/vnd.ms-project",
        "application/vnd.ms-project",
        "application/x-mmxp",
        "application/x-nrf",
        "application/x-out",
        "application/x-pkcs12",
        "application/pkcs7-mime",
        "application/x-pkcs7-certreqresp",
        "application/x-pc5",
        "application/x-pcl",
        "application/vnd.adobe.pdx",
        "application/x-pgl",
        "application/vnd.ms-pki.pko",
        "application/pkcs10",
        "application/x-pkcs7-certificates",
        "application/pkcs7-mime",
        "application/pkcs7-signature",
        "application/x-pci",
        "application/x-pcx",
        "application/pdf",
        "application/x-pkcs12",
        "application/x-pic",
        "application/x-perl",
        "application/x-plt",
        "application/vnd.ms-powerpoint",
        "application/vnd.ms-powerpoint",
        "application/pics-rules",
        "application/x-prt",
        "application/vnd.ms-powerpoint",
        "application/x-ras",
        "application/vnd.ms-powerpoint",
        "application/x-ppm",
        "application/vnd.ms-powerpoint",
        "application/x-pr",
        "application/x-prn",
        "application/x-ps",
        "application/x-ptn",
        "application/x-red",
        "application/vnd.rn-realsystem-rjs",
        "application/x-rlc",
        "application/vnd.rn-realmedia",
        "application/rat-file",
        "application/vnd.rn-recording",
        "application/x-rgb",
        "application/vnd.rn-realsystem-rjt",
        "application/x-rle",
        "application/vnd.adobe.rmf",
        "application/vnd.rn-realsystem-rmj",
        "application/vnd.rn-rn_music_package",
        "application/vnd.rn-realmedia-vbr",
        "application/vnd.rn-realplayer",
        "application/vnd.rn-realmedia-secure",
        "application/vnd.rn-realsystem-rmx",
        "application/vnd.rn-rsml",
        "application/msword",
        "application/x-sat",
        "application/x-sdw",
        "application/x-slb",
        "application/x-sam",
        "application/sdp",
        "application/x-stuffit",
        "application/x-sld",
        "application/smil",
        "application/x-smk",
        "application/smil",
        "application/x-pkcs7-certificates",
        "application/futuresplash",
        "application/streamingmedia",
        "application/vnd.ms-pki.stl",
        "application/vnd.ms-pki.certstore",
        "application/x-tdf",
        "application/x-tga",
        "application/x-sty",
        "application/x-shockwave-flash",
        "application/x-tg4",
        "application/vnd.visio",
        "application/x-vpeg005",
        "application/vnd.visio",
        "application/vnd.visio",
        "application/vnd.visio",
        "application/x-bittorrent",
        "application/x-vda",
        "application/vnd.visio",
        "application/vnd.visio",
        "application/vnd.visio",
        "application/x-wb1",
        "application/x-wb3",
        "application/msword",
        "application/x-wk4",
        "application/x-wks",
        "application/x-wb2",
        "application/x-wk3",
        "application/x-wkq",
        "application/x-wmf",
        "application/x-ms-wmd",
        "application/x-wp6",
        "application/x-wpg",
        "application/x-wq1",
        "application/x-wri",
        "application/x-ws",
        "application/x-ms-wmz",
        "application/x-wpd",
        "application/vnd.ms-wpl",
        "application/x-wr1",
        "application/x-wrk",
        "application/x-ws",
        "application/vnd.adobe.xdp",
        "application/vnd.adobe.xfd",
        "application/vnd.adobe.xfdf",
        "application/vnd.ms-excel",
        "application/x-xwd",
        "application/vnd.symbian.install",
        "application/x-x_t",
        "application/vnd.android.package-archive",
        "application/x-x_b",
        "application/vnd.symbian.install",
        "application/vnd.iphone",
        "application/x-silverlight-app",
        "application/x-xlw",
        "application/x-anv",
        "application/x-icq",
        "text/h323",
        "text/xml",
        "text/xml",
        "text/asa",
        "text/asp",
        "text/css",
        "text/csv",
        "text/dcd",
        "text/dtd",
        "text/ent",
        "text/fo",
        "text/x-component",
        "text/html",
        "text/htx",
        "text/htm",
        "text/webviewhtml",
        "text/jsp",
        "text/xml",
        "text/markdown",
        "text/mml",
        "text/xml",
        "text/plg",
        "text/xml",
        "text/vnd.rn-realtext",
        "text/plain",
        "text/xml",
        "text/html",
        "text/xml",
        "text/plain",
        "text/iuls",
        "text/xml",
        "text/xml",
        "text/x-vcard",
        "text/xml",
        "text/vnd.wap.wml",
        "text/xml",
        "text/scriptlet",
        "text/xdr",
        "text/xql",
        "text/xsd",
        "text/xslt",
        "text/xq",
        "text/xquery",
        "text/xsl",
        "text/x-ms-odc",
        "text/vnd.rn-realtext3d",
        "text/plain",
        "image/tiff",
        "image/fax",
        "image/gif",
        "image/x-icon",
        "image/jpeg",
        "image/jpeg",
        "image/jpeg",
        "image/jpeg",
        "image/pnetvue",
        "image/png",
        "image/vnd.rn-realpix",
        "image/svg+xml",
        "image/tiff",
        "image/vnd.wap.wbmp",
    };
    
    private static String getTail(String name) {
    	int dot = name.lastIndexOf('.');
    	if(dot < 0) {
    		return null;
    	}
    	return name.substring(dot);
    }
    
    public static String getMineType(String name) {
    	if(name == null) {
        	return "application/none";
    	}
    	String tail = getTail(name);
    	if(tail == null) {
    		return "application/none";
    	}
    	
    	for(int i = 0; i < FILE_TAIL.length; i++) {
    		if(tail.equals(FILE_TAIL[i])) {
    			return MINE_TYPE[i];
    		}
    	}
    	return "application/none";
    }
    
    public static String getMineType(File f) {
    	return getMineType(f.getName());
    }
}

